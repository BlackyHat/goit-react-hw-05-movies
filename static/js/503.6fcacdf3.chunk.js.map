{"version":3,"file":"static/js/503.6fcacdf3.chunk.js","mappings":"oKAkBA,IAfqB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OAChBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,+BACGF,QADH,IACGA,OADH,EACGA,EAAQG,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,KAAd,OACX,eAAaC,UAAU,cAAvB,UACE,SAAC,KAAD,CAASC,GAAE,kBAAaJ,GAAMK,MAAO,CAAEC,KAAMT,GAA7C,SACGI,GAASC,KAFLF,EADE,KASlB,C,kGCaD,EA1BkB,SAAC,GAAkB,IAAhBO,EAAe,EAAfA,SACnB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAQA,OACE,kBAAMH,SAPe,SAAAI,GACrBA,EAAEC,iBACFL,EAASE,GACTC,EAAS,GACV,EAGC,WACE,kBAAOG,QAAQ,gBAAf,UACE,kBACEC,KAAK,OACLd,GAAG,gBACHe,MAAON,EACPO,SAAU,SAAAL,GACRD,EAASC,EAAEM,OAAOF,MACnB,OAGL,mBAAQD,KAAK,SAAb,sBAGL,E,0BCMD,EA3Be,WAAO,IAAD,EACnB,GAA4BN,EAAAA,EAAAA,UAAS,IAArC,eAAOZ,EAAP,KAAesB,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAM,UAAGF,EAAaG,IAAI,iBAApB,QAAiC,GAe7C,OATAC,EAAAA,EAAAA,YAAU,WACHF,IAGLG,EAAAA,EAAAA,IAAgB,CAAEhB,MAAOa,EAAQI,KAAM,IAAKC,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAC/CV,EAAUU,EADqC,GAGlD,GAAE,CAACN,KAGF,6BACE,eAAInB,UAAU,kBAAd,4BACA,SAAC,EAAD,CAAWI,SAhBO,SAAAE,GACpBY,EAA0B,KAAVZ,EAAe,CAAEa,OAAQb,GAAU,CAAC,EACrD,KAeG,SAACoB,EAAA,EAAD,CAAcjC,OAAQA,MAG3B,C","sources":["components/MovieGallery/MovieGallery.jsx","components/SearchBox/SearchBox.jsx","pages/Movies.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nconst MovieGallery = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {movies?.map(({ id, title, name }) => (\n        <li key={id} className=\"movie__item\">\n          <NavLink to={`/movies/${id}`} state={{ from: location }}>\n            {title || name}\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MovieGallery;\n\nMovieGallery.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string,\n      title: PropTypes.string,\n    })\n  ),\n};\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\n\nconst SearchBox = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const onSubmitChange = e => {\n    e.preventDefault();\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form onSubmit={onSubmitChange}>\n      <label htmlFor=\"movies-search\">\n        <input\n          type=\"text\"\n          id=\"movies-search\"\n          value={query}\n          onChange={e => {\n            setQuery(e.target.value);\n          }}\n        />\n      </label>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nexport default SearchBox;\n\nSearchBox.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport SearchBox from 'components/SearchBox/SearchBox';\nimport MovieGallery from '../components/MovieGallery/MovieGallery';\nimport { getMovieByQuery } from 'components/services/api';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const filter = searchParams.get('filter') ?? '';\n\n  const onChangeQuery = query => {\n    setSearchParams(query !== '' ? { filter: query } : {});\n  };\n\n  useEffect(() => {\n    if (!filter) {\n      return;\n    }\n    getMovieByQuery({ query: filter, page: 1 }).then(({ results }) =>\n      setMovies(results)\n    );\n  }, [filter]);\n\n  return (\n    <main>\n      <h1 className=\"visually-hidden\">Movies search</h1>\n      <SearchBox onSubmit={onChangeQuery} />\n      <MovieGallery movies={movies} />\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["movies","location","useLocation","map","id","title","name","className","to","state","from","onSubmit","useState","query","setQuery","e","preventDefault","htmlFor","type","value","onChange","target","setMovies","useSearchParams","searchParams","setSearchParams","filter","get","useEffect","getMovieByQuery","page","then","results","MovieGallery"],"sourceRoot":""}